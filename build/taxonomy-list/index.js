!function(){"use strict";var e=window.wp.blocks;function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n,o){return r=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n),(n="symbol"==t(r)?r:String(r))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e;var r}var o=window.React,r=window.lodash,l=window.wp.components,a=(window.wp.compose,window.wp.blockEditor),c=window.wp.i18n,i=window.wp.primitives,s=(0,o.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(i.Path,{d:"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z"})),u=window.wp.coreData,m=window.wp.data;function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}window.wp.element;var w=JSON.parse('{"u2":"sdm/taxonomy-list"}');(0,e.registerBlockType)(w.u2,{edit:function(e){var t,i,w=e.attributes,d=w.taxonomies,g=w.orderby,f=w.showHierarchy,h=w.showPostCounts,y=w.showOnlyTopLevel,b=w.showEmpty,v=w.containerElement,E=e.setAttributes;console.log("taxonomies",d);var _=(0,m.useSelect)((function(e){return(0,e(u.store).getTaxonomies)()})),O={per_page:-1,hide_empty:!b,context:"view",orderBy:g};y&&(O.parent=0);var S,k=(0,u.__experimentalUseEntityRecords)("taxonomy",null!==(t=null==d||null===(i=d[0])||void 0===i?void 0:i.slug)&&void 0!==t?t:"category",O),C=k.records,P=k.isResolving,T=function(e){return null!=C&&C.length?null===e?C:C.filter((function(t){return t.parent===e})):[]},j=function(e){return"wp-block-categories__list wp-block-categories__list-level-".concat(e)},x=function(e){return function(t){return E(n({},e,t))}},B=function e(t,n){var l=T(t.id),a=t.id,i=t.link,s=t.count,u=t.name;return(0,o.createElement)("li",{key:a},(0,o.createElement)("a",{href:i,target:"_blank",rel:"noreferrer noopener"},function(e){return e?(0,r.unescape)(e).trim():(0,c.__)("(Untitled)")}(u)),h&&(0,o.createElement)("span",{className:"wp-block-categories__post-count"}," (".concat(s,")")),f&&!!l.length&&(0,o.createElement)("ul",{className:j(n+1)},l.map((function(t){return e(t,n+1)}))))};return(0,o.createElement)("div",function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},(0,a.useBlockProps)()),(0,o.createElement)(a.InspectorControls,null,(0,o.createElement)(l.PanelBody,{title:(0,c.__)("Settings")},!P&&(0,o.createElement)(l.FormTokenField,{label:"Taxonomies",title:"Taxonomies",placeholder:"Type a taxonomy",suggestions:null==_?void 0:_.map((function(e){return e.name})),value:null==d?void 0:d.map((function(e){return e.name})),onChange:function(e){var t=[];e.forEach((function(e){var n=null==_?void 0:_.find((function(t){return t.name===e}));n&&t.push({name:n.name,slug:n.slug})})),E({taxonomies:t})}}),(0,o.createElement)(l.PanelRow,{className:"edit-post-post-schedule"},(0,o.createElement)(l.TextControl,{label:"Order by",value:g,onChange:function(e){return E({orderby:e})}}),(0,o.createElement)("p",null,(0,o.createElement)("a",{href:"https://developer.wordpress.org/reference/classes/wp_query/#order-orderby-parameters",target:"__blank"},"?"))),(0,o.createElement)(l.ToggleControl,{label:(0,c.__)("Show post counts"),checked:h,onChange:x("showPostCounts")}),(0,o.createElement)(l.ToggleControl,{label:(0,c.__)("Show only top level categories"),checked:y,onChange:x("showOnlyTopLevel")}),(0,o.createElement)(l.ToggleControl,{label:(0,c.__)("Show empty categories"),checked:b,onChange:x("showEmpty")}),!y&&(0,o.createElement)(l.ToggleControl,{label:(0,c.__)("Show hierarchy"),checked:f,onChange:x("showHierarchy")}),(0,o.createElement)(l.ToggleControl,{label:(0,c.__)("Container Element (ul)"),checked:v,onChange:x("containerElement")}))),P&&(0,o.createElement)(l.Placeholder,{icon:s,label:(0,c.__)("Categories")},(0,o.createElement)(l.Spinner,null)),!P&&0===(null==C?void 0:C.length)&&(0,o.createElement)("p",null,(0,c.__)("Your site does not have any posts, so there is nothing to display here at the moment.")),!P&&(null==C?void 0:C.length)>0&&(S=T(f?0:null),(0,o.createElement)("ul",{className:j(0)},S.map((function(e){return B(e,0)})))))},save:function(){return null}})}();