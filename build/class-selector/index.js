!function(){"use strict";var e=window.wp.components,s=window.wp.element,t=window.wp.data,o=window.wp.compose,l=window.wp.blockEditor,n=window.ReactJSXRuntime;const a=flashblocks_class_selector.classes||{},c=flashblocks_class_selector.is_admin,i=(0,o.compose)((0,t.withSelect)((e=>{const s=e("core/block-editor").getSelectedBlock();return{className:s?.attributes?.className||"",blockName:s?.name||""}})),(0,t.withDispatch)((e=>{const{updateBlockAttributes:s}=e("core/block-editor"),t=wp.data.select("core/block-editor").getSelectedBlockClientId();return{setClassName:e=>{s(t,{className:e})}}})))((({className:o,setClassName:l,blockName:c})=>{const[i,r]=(0,s.useState)([]),[m,d]=(0,s.useState)([]);(0,s.useEffect)((()=>{const e=o?o.split(" "):[];r(e)}),[o]),(0,s.useEffect)((()=>{if(!c)return console.warn("Block name is undefined"),void d([]);let e=[];Object.entries(a).forEach((([s,o])=>{const{blocks:l,classes:n,icon:a}=o;"all"===l&&(e=[...e,...n.map((e=>({name:e,isGlobal:!0,icon:a})))]),"no-styles"===l&&0===(0,t.select)("core/blocks").getBlockStyles(c).length&&(e=[...e,...n.map((e=>({name:e,isGlobal:!1,icon:a})))]),Array.isArray(l)&&l.includes(c)&&(e=[...e,...n.map((e=>({name:e,isGlobal:!1,icon:a})))])}));const s=((0,t.select)("core/blocks").getBlockStyles(c)||[]).filter((e=>"default"!==e.name)).map((e=>({name:`is-style-${e.name}`,isGlobal:!1,icon:""})));e=[...e,...s];const o=Array.from(new Map(e.map((e=>[e.name,e]))).values());d(o)}),[c]);const p={};m.forEach((e=>{p[e.name]=e.icon}));const w=m.map((e=>e.name));return(0,n.jsx)(e.FormTokenField,{label:"Select CSS Classes",value:i,suggestions:w,onChange:e=>{r(e),l(e.join(" "))},maxSuggestions:1e3,tokenizeOnSpace:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,__experimentalRenderItem:({item:e})=>{const s=p[e];return(0,n.jsxs)("div",{className:"form-token-field-list-item",children:[(0,n.jsx)("div",{className:"icon",children:s||""}),e]})}})}));wp.hooks.addFilter("editor.BlockEdit","my-plugin/with-class-selector",(t=>o=>(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(t,{...o}),c&&(0,n.jsx)(l.InspectorControls,{children:(0,n.jsx)(e.PanelBody,{title:"CSS Classes",initialOpen:!0,children:(0,n.jsx)(i,{})})}),!c&&(0,n.jsx)(l.InspectorAdvancedControls,{children:(0,n.jsx)(i,{})})]})))}();